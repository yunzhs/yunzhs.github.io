

#### 分毫的技术架构：

中台系统

已springBoot为基础，k8s作为分布式架构
使用阿里云提供的服务器，消息服务mns，对象存储oss等，sls日志分析
Apollo，xxljob

#### 分毫的业务难点

社保，商保。
代理，外包，派遣，集团
全国上百个城市，政策不统一
不同的险种，大额医疗，长期护理险
三险，五险，五险不合一，存在，补差（增员减员），补缴，预收，预收结算，服务费
复杂的上游系统，保险配置，人员信息，商户信息，合同信息，参保信息，预收结算信息等等
下游系统，财务，数据分析，客户公司推送
客户定制化的需求，账单样式，出账时间，计算方式等等

#### 分毫的技术难点

账单的准确性：通过各种校验程序，与上下游数据进行同步，比如支付系统实缴对比（政府实缴和我们的缴纳）

账单的可配置化，能够各种复杂场景，将业务拆分成最小单元，通过拼装的方式实现业务。

账单的可视化，定制化账单，生成各种复杂的excel，pdf，满足客户的定制化需求

账单计算的速度。通过优化代码，优化sql（包括表结构，查询语句，减少查询次数），优化查询上游接口，优化数据推送等。

数据导出的速度

#### 遇到过的问题

1、慢sql问题，order by id 问题

2、定制化账单导出时om问题

3、账单的可配置化，小重构，如何去设计他

4、账单的计算速度，从上游接口（分析接口调用速度arths），优化导出逻辑，优化慢sql


如何把定制化账单系统做成一个通用的系统